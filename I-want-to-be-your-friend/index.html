<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <title>Document</title>
</head>

<body>
    <div id="app">
        <div class="container d-flex vh-100 px-4 px-lg-5  align-items-center">
            <div class="col-12 col-md-6 offset-md-3">
                <div class="card shadow sm">
                    <div class="card-body">
                        <p class="col-12 mb-4 text-center" id="question">
                            سلام، خوش آمدید
                        </p>
                        <div class="col-12 mb-2 text-center fade d-none" id="input-group">
                            <input type="text" id="answer" placeholder="پاسخ" class="text-center">
                        </div>
                        
                        <div class="col-12 mb-2">
                            <button id="btn-one" class="form-control btn btn-primary btn-block">
                            </button>
                        </div>
                        <div class="show col-12 mb-2 fade">
                            <button id="btn-two" class="form-control btn btn-primary btn-block">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        var btn_one = document.getElementById('btn-one')
        var btn_two = document.getElementById('btn-two')
        var inpgp = document.getElementById('input-group')
        var question = document.getElementById('question')
        var questions = {
            a: {
                question : "Hi, Are you here to be my friend?",
                answer : null,
                btn1 : "Hell Yes! I love to",
                btn2 : "No, sorry!",
                case1 : 'b',
                case2 : 'c'
            },
            b: {
                question : "So, you are a ...",
                answer : null,
                btn1 : "boy",
                btn2 : "girl",
                case1 : 'b1',
                case2 : 'g1'
            },
            c: {
                question : "So what are you doing here?",
                answer : null,
                btn1 : "I want to be your friend, I'm here to request it.",
                btn2 :  null,
                case1 : 'b',
                case2 : 'b'
            },
            b1: {
                question : "Nice, So do you want to call me?",
                answer : null,
                btn1 : "Yes",
                btn2 :  "No",
                case1 : 'b2',
                case2 : 'end'
            },
            g1: {
                question : "Do you have any boyfriend? :)",
                answer : null,
                btn1 : "Yes, I have",
                btn2 :  "Nop!",
                case1 : 'c',
                case2 : 'g2'
            },
            g2: {
                question : "Very nice! Do you want to call me?",
                answer : null,
                btn1 : "Yes",
                btn2 :  "I'm not sure maybe! <i>(this option also is a yes with some girls stuf! you know)</i>",
                case1 : 'g3',
                case2 : 'g3'
            },
            g3: {
                question : "Write your number here:",
                answer : null,
                btn1 : "Done",
                btn2 : null,
                input : true,
                case1 : 'g4',
                case2 : 'g4'
            },
            g4: {
                question : "Is it your number?",
                answer : null,
                btn1 : "Yes",
                btn2 : "Let's fix it",
                case1 : 'g5',
                case2 : 'g3'
            },
            g5: {
                question : "Ok, prove it,",
                answer : null,
                btn1 : "I'm gonna call you",
                btn2 : "Ok you got me",
                case1 : 'g6',
                case2 : 'g2'
            },
            g6: {
                question : "Good, I'm waiting, here is my email: mahdi@nasirinezhad",
                answer : null,
                btn1 : "! ! !",
                btn2 : "Ok Thank you",
                case1 : 'g7',
                case2 : 'end'
            },
            g7: {
                question : "Yes I know, but... just... ok?",
                answer : null,
                btn1 : "Ok Thank you",
                btn2 : null,
                case1 : 'end',
                case2 : 'end'
            },
            b2: {
                question : "Ok, here is my email: mahdi@nasirinezhad",
                answer : null,
                btn1 : "Thank you",
                btn2 :  null,
                case1 : 'end',
                case2 : 'end'
            },
            end: {
                question : "Bye bye! nice to meet you!",
                answer : null,
                btn1 : "Bye",
                btn2 :  null,
                case1 : 'end',
                case2 : 'a'
            },
        }

        var q = questions.a

        const ask = (answer) => {
            q.answer = answer
            q = questions[answer == 1 ? q.case1 : q.case2]
            question.innerText = q.question
            btn_one.innerText = q.btn1
            if (q.input) {
                inpgp.classList.replace('d-none', 'show')
            }else {
                inpgp.classList.replace('show', 'd-none')
            }
            if (q.btn2 == null) {
                btn_two.parentElement.classList.replace('show', 'd-none')
            }else {
                btn_two.innerText = q.btn2
                btn_two.parentElement.classList.replace('d-none', 'show')
            }
        }

        (_=>{
            btn_one.addEventListener('click', _=>ask(1))
            btn_two.addEventListener('click', _=>ask(2))
            question.innerText = q.question
            btn_one.innerText = q.btn1
            btn_two.innerText = q.btn2
        })()
    </script>
</body>

</html>
